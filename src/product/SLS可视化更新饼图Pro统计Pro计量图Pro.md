## 可视化更新介绍
随着SLS上用户的数据量不断膨胀，用户已经在SLS中创建了数百万张仪表盘，仪表盘页面每周有数十万次访问，一些旧版图表在性能和外观上已经无法支持用户的使用。同时随着用户不断对SLS可视化技术提出需求，需要推出新图表来增强SLS可视化能力，加强新老图表的迭代更新。
本次主要介绍更新的三种类型的图：饼图Pro、统计Pro、计量图Pro
## 功能介绍
### 统计图Pro
统计图Pro是一款全新图表，主要支持将每个查询字段简化为单个值来简化数据，用于突显单个数值。统计图Pro支持对某一字段数据进行计算，显示一个可选迷你图以及对比模式。统计图Pro也是单值图进阶版，可包含一个或多个单值图，支持老版单值图一键迁移。
![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/c3a889e84c43dd70b3c9d87f88d012e28c28fa44e310e18756e141dfff6552d6.png)
#### 1.配置项
统计图Pro和其他Pro版本图表也是一样的，支持对图表进行全局配置，也支持对单个查询分析结果或单个查询分析结果中的单列数据进行个性化设置。
**通用配置**：通用配置对整个统计图表生效，通用配置下还有一些属性配置：基本配置、标准配置、数据配置、图表样式、查询分析配置、阈值、值映射、文档链接。
**字段配置**：字段配置用于对单个查询分析结果或单个查询分析结果中的单列数据进行个性化的可视化设置。
**交互事件**：用于对单个字段或单个查询分析，包括打开日志库、打开快速查询、打开仪表盘、打开Trace分析、打开Trace详情和自定义HTTP链接。
> 帮助文档：
>     

#### 2.显示指定字段
Pro版本图表支持多query查询，每个查询都会有几个字段，统计图Pro支持筛选出想要展示的字段。如果不指定显示字段，统计图会默认将查询到的所有字段显示。
![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/47281fbc24ecf30f9b7b4270b0370c9e74fc43697c094aa4ee5696fb93565896.png)
配置方式：
> 通用配置--查询分析配置--Query 名--显示字段

#### 3.字段计算
统计图Pro支持对查询分析结果中的某一字段进行计算，将显示的字段通过相应计算函数计算后得到的值进行展示。
![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/652fb5ff84f3272414cf55b4987d7531e50802fae292a165e80bc565f00ad05f.png)
可选的计算函数如下图：
![计算函数.gif](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/a0b8b67cf7f50063f4be2b1bafa59eac34ecc3314fd0eef2c58797f9c470dfae.gif)
配置方式：
> 通用配置--数据配置--展示模式--计算值

#### 4.Grid布局模式
统计图Pro可包含一个或多个单值图。对于多个单值图的情况，统计图Pro提供了适应不同大小窗口的布局方式。默认采用Grid布局。同时还提供了垂直布局和水平布局，分别支持修改最小高度和最小宽度。
![Grid布局.gif](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/92bed61db39415a1d8a4f29192437eb19e5890e0db4af4e29f18480173242eb3.gif)
配置方式：
> 通用配置--数据配置--展示模式--布局方式--自动

![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/d8296be33e68379ac2dfed997882478ca2a421986350667046d2dd7f498ca312.png)
#### 5.可选迷你图
统计图Pro支持显示迷你图，迷你图主要展示该字段数据变换趋势，帮助用户直观地观察到字段数据波动情况。迷你图必须在展示模式为计算值时，区域设置才会生效。同时迷你图对查询分析的数据也是有一定的限制，必须保证该字段的数据长度大于2，否则也是不生效。
![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/8a42a6933f2305b5778a88d57e449456ed4bf88d1c3ad1ed00615688c0ed1ca2.png)
配置方式：
> 1.显示字段数据长度大于等于2
> 2.通用配置--数据配置--展示模式--计算值
> 3.通用配置--图表样式--图像模式--区域

#### 6.对比模式
在对比模式下，支持选择相同查询下的一个字段作为对比字段，该字段也会通过数据配置中的计算函数进行计算。
![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/5cc662946f7dd4ffc752dc2d502a86bded85c9a03ed5d763e5a92dc6e0d0c8ec.png)
对比模式下。数据的上升和下降取决于配置 `趋势比较阈值`，如果对比字段计算结果大于趋势比较阈值则显示上升箭头，如果计算结果小于趋势比较阈值则显示下降箭头。
![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/4e709f2403db38b21061ae2c7546217ac2a7a1123bb6fbfaab57f7319acae9d9.png)![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/57148b3d1643689d84ecd9dc229f818d0bb398e0f0a55ff7c69115636f77f528.png)
配置方式：
> 1.通用配置--数据配置--展示模式--计算值
> 2.通用配置--查询分析配置--Query 名--对比字段

#### 7.同比环比图和矩形图一键迁移
统计图Pro支持同比环比图和矩形图一键迁移，迁移尽可能地保留了老版同比环比图和矩形图样式，过渡更加平滑。
![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/2115284c5e8d429e9c142504f53b5ec977624b7c4d9af16e71ee8b7b002e205f.png)
迁移方式：
> 1.老版同比环比图和矩形图会提示迁移统计图Pro，点击迁移按钮即可迁移到新版统计图Pro；
> 2.老版同比环比图和矩形图选择统计图Pro的图标也可以迁移到新版统计图Pro；

![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/31469b75b07e9deaffa7d19bef1232b7dbf727ba05b1d97635cc7d276ccd8933.png)
### 计量图Pro
计量图Pro是一款全新图表，可包含一个或多个条形图，通常用于分析Top场景。主要支持将每个查询字段简化为单个值来简化数据，直观地看到在单个值特定范围的占比。支持多种模式：进度条模式、LCD模式、渐变模式以及刻度盘模式，配合着计量图的颜色渲染作出炫酷的效果。刻度盘模式还支持老版刻度盘一键迁移，性能和渲染能力都得到了提升。
![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/b8c3a7d802e1adc1add715fe06b9e7c8aeb89356612eaf2a75343982b91290af.png)
#### 1.配置项
计量图Pro和其他Pro版本图表也是一样的，支持对图表进行全局配置，也支持对单个查询分析结果或单个查询分析结果中的单列数据进行个性化设置。
**通用配置**：通用配置对整个统计图表生效，通用配置下还有一些属性配置：基本配置、标准配置、数据配置、样式配置、查询分析配置、阈值、值映射、文档链接。
**字段配置**：字段配置用于对单个查询分析结果或单个查询分析结果中的单列数据进行个性化的可视化设置。
**交互事件**：用于对单个字段或单个查询分析，包括打开日志库、打开快速查询、打开仪表盘、打开Trace分析、打开Trace详情和自定义HTTP链接。
> 帮助文档：
>     

#### 2.显示指定字段和字段计算
计量图Pro和统计图Pro也是一样支持筛选显示字段的功能，默认显示全部查询字段。具体配置请见上文`统计图Pro-显示指定字段`
计量图Pro也是支持支持对查询分析结果中的某一字段进行计算，对计算结果进行展示。具体配置请见上文`统计图Pro-字段计算`
#### 3.展示模式
计量图Pro提供多种展示模式，配合着颜色方案渲染作出炫酷的效果。
Basic：基础模式
Gradient：渐变色模式，新建计量图Pro默认模式
Retro LCD：LCD模式
Dial：刻度盘模式
配置方式：
> 1.通用配置--样式配置--展示模式-- Gradient/Retro LCD/Basic/Dial

#### 4.设定特定范围
计量图pro主要是用于显示计算值在一个特定范围的占比，支持用户设定最小范围和最大范围。
![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/728882b179241f5f02de0ea62fd8da451855a62d97eb77fa3c4bb5da0619720b.png)
最大范围支持用户选取同一查询下特定字段中的最大值作为最大范围。当选择使用查询结果后，样式配置的最大范围失效。
![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/18208ead30aeab48b03ec2f0d5dd80c02c60302d3067ad01f9bf5dd59f91547b.png)
最小范围只支持手动输入。最大范围支持手动输入或选择统一查询下特定字段的最大值。
配置方式：
> 最小范围：
> 1.通用配置--数据配置--样式配置--最小范围
> 最大范围
> 1.通用配置--数据配置--样式配置--最大范围
> 2.通用配置--查询分析配置--Query 名--使用查询结果--最大值所在字段

#### 5.对比模式
计量图Pro只有刻度盘模式下支持对比值，支持选择相同查询下的一个字段作为对比字段，该字段也会通过数据配置中的计算函数进行计算。
![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/f7d1c66597e47879919750a8e8a1b54932b92c0f270f92be2cd3f589caef7ab0.png)
配置方式：
> 1.通用配置--数据配置--展示模式--计算值
> 2.通用配置--样式配置--展示模式--Dial
> 3.通用配置--查询分析配置--Query 名--对比字段

#### 6.刻度盘一键迁移
计量图Pro支持老版刻度盘一键迁移，迁移尽可能地保留了老版刻度盘样式，过渡更加平滑。
![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/b94086c40ecf3c4285e2c0b9feb0cac20e996ffefd1e2d6202f17331232bec06.png)
迁移方式：
> 1.老版刻度盘图会提示迁移计量图Pro，点击迁移按钮即可迁移到新版计量图Pro；
> 2.老版刻度盘图选择计量图Pro的图标也可以迁移到新版计量图Pro；

![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/a77b0b26ecaa106bdaf51840298885b0c0a7fd71be00853b7856a2cbbf60dd50.png)
### 饼图Pro
饼图Pro是一款全新的高性能饼图，无论是在性能还是渲染速度上都有很大的提升。饼图Pro用于表示不同分类的占比情况，可以通过弧度大小来对比各种分类。按照分类的占比将一个圆饼划分成多个区块，整个圆饼代表数据的总量，每个区块表示该分类占总体的比例大小，所有区块的占比相加等于100%。
![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/8465a4437c3d661d86fc2a79c4c1dc432d48c4e5eff4becfcd481a2256a160fb.png)
#### 1.配置项
饼图Pro和其他Pro版本图表也是一样的，支持对图表进行全局配置，也支持对单个查询分析结果或单个查询分析结果中的单列数据进行个性化设置。
**通用配置**：通用配置对整个统计图表生效，通用配置下还有一些属性配置：基本配置、标准配置、饼图配置、图例配置、查询分析配置、文档链接。
**字段配置**：字段配置用于对单个查询分析结果或单个查询分析结果中的单列数据进行个性化的可视化设置。
**交互事件**：用于对单个字段或单个查询分析，包括打开日志库、打开快速查询、打开仪表盘、打开Trace分析、打开Trace详情和自定义HTTP链接。
> 帮助文档：
>     

#### 2.自定义分类
饼图Pro支持用户自定义数据分类的字段，以及展示数值的字段。根据不同的分类和数值展示不同分区样式。
![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/663b3979b2cb7901d93d5b363b20088d566966a724478a4eb7e16285b94f6a24.png)
配置方式：
> 1.通用配置--查询分析配置--Query 名--分类
> 2.通用配置--查询分析配置--Query 名--数值列

#### 3.饼图类型
饼图Pro支持多种类型的饼图，如环图、普通饼图和南丁格尔图

- 普通饼图
   - 由扇形、文本百分比、图例构成
   - 饼图通过将一个圆饼按照分类的占比划分成多个区块，每个扇形区域该分类占总体的比例大小。

![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/c46fc3443c8fb72226b036744b96dcaeff18cd3a188bb0345997964bf7fb4d14.png)

- 环图
   - 本质上是将饼图中心挖空
   - 在原有构成的基础上增加了总数显示，展示了更多的信息。
   - 通过两个环图的环状条长度进行对比，更为直观。

![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/3d86c309f2ab74b1f6f20c819fa7b72832e70d5f928832dd86921a7905dbedad.png)

- 南丁格尔玫瑰图
   - 本质上不是环图，而是在极坐标系下画出来的柱状图，每一个分类数据被圆弧平分，使用圆弧的半径长短表示数据的大小。
   - 饼图适用于不超过10种的分类，南丁格尔玫瑰图则适用于分类较多的场景（10~30种）。
   - 由于半径和面积是成平方的关系，南丁格尔玫瑰图放大了各个分类数据之间值的差异，尤其适合对比大小相近的数值。
   - 由于圆形有周期的特性，南丁格尔玫瑰图也适用于表示一个周期的时间概念，例如星期、月份。

![image.png](/img/src/product/SLS可视化更新饼图Pro统计Pro计量图Pro/94942b6bfaf3a316de4a92b488dc7b4168202925019d1e3d58999e68b20ce40a.png)
饼图类型配置方式：
> 1.通用配置--饼图配置--饼图类型

### 写在最后
SLS全新的可视化功能能够助力用户快速的分析数据，制作高性能的仪表盘。Pro类型的图表配置功能非常丰富，配合字段配置、事件交互和数据转换能够完成非常酷炫可视化效果。
另外，SLS的仪表盘还有其他非常丰富的功能，例如SQL增强功能，实现亿级数据秒级查询；还有配置灵活强的告警功能等。
欢迎大家使用SLS全新可视化功能。
